#pragma once 

///////////////////////////////////////////////////////////////////////////////
//////////////////////////////// INCLUDES /////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#include "Font.hpp"
#include "Utils.hpp"
#include "SpiHw.hpp"
#include "Bitmap.hpp"
#include "Draftsman.hpp"
#include <gmock/gmock.h>

///////////////////////////////////////////////////////////////////////////////
/////////////////////////// CLASSES/STRUCTURES ////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

class DraftsmanHw final : public Draftsman <DraftsmanHw>
{
    friend Draftsman<DraftsmanHw>;

    public:
        explicit DraftsmanHw (const Config_t vConfig, SpiHw & vSpi, Font & vFont) : Draftsman<DraftsmanHw>(vConfig) { }
        ~DraftsmanHw () = default;

        MOCK_METHOD2       (DrawText , void    (std::string_view vText, const Bitmap::Coordinates vCoordinates));
        MOCK_METHOD1       (sendLines, void    (const Bitmap & vRect));
        MOCK_CONST_METHOD1 (calculate, uint8_t (const Bitmap::Dimensions & vDimensions));

        uint8_t Calculate (const Bitmap::Dimensions & vDimensions) const
        {
            return Draftsman <DraftsmanHw>::calculate (vDimensions);
        }
};

///////////////////////////////////////////////////////////////////////////////
/////////////////////////////// END OF FILE ///////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
